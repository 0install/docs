<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<h2>Contents</h2>

<toc level='h2'/>

<div style='float: right; text-align: center; padding-left: 3em; padding-bottom: 3em'>
<video vid='16btFQGWoJM'>Tutorial 1: Launchers</video>
</div>

<h2>Introduction</h2>

<p>
Zero Install's <b>0launch</b> command takes a URI (e.g.
<a href='http://rox.sourceforge.net/2007/interfaces/Reinteract.xml'>http://rox.sourceforge.net/2007/interfaces/Reinteract.xml</a>) and runs the corresponding
program. 
</p>

<p>
Although 0launch can be run manually, it is normally invoked by a <i>launcher</i>.
A launcher simply provides an easy way to run a program without entering the full URI, rather as a bookmark in a web-browser provides an easy
way to return to a web page without entering the full URL. Examples of launchers include:
</p>

<ul class='spaced'>
 <li>When a <k>GNOME</k> or <k>KDE</k> user drags a web-browser link to the <a href='http://rox.sourceforge.net/desktop/node/402'>Zero2Desktop</a> program, it creates an entry on the <k>Applications menu</k> that uses it.</li>
 <li>When a <k>ROX desktop</k> user drags a web-browser link to the <a href='http://rox.sourceforge.net/desktop/AddApp'>AddApp</a> program, it creates a <k>launcher application</k> that uses it.</li>
 <li>When an <k>Xfce</k> user drags a web-browser link to the <a href='http://rox.sourceforge.net/desktop/node/269'>xfce4-panel</a> program, it creates a <k>launcher button</k> that uses it.</li>
 <li>When a <k>shell</k> user runs the <b>0alias</b> command, it creates a <k>shell short-cut</k> that runs it.</li>
</ul>

<p style='text-align: center; clear: both'>
  <img width="455" height="73" src="tutorial/launcher.png" alt='Launchers diagram'/>
</p>
<p style='text-align: center'>
  <i>A launcher provides an easy way to run a program.</i>
</p>

<p>
However, you can always run the 0launch command manually yourself. For example,
entering this in a <i>terminal emulator</i> (such as xterm, gnome-terminal or
konsole) will run the Edit application from the ROX desktop:
</p>

<pre>
$ <b>0launch http://rox.sourceforge.net/2005/interfaces/Edit</b>
</pre>

<ul>
<li>Note: If you get an error following these steps, please skip to
<a href='injector-trouble.html'>the trouble-shooting section</a>.</li>
</ul>

<h2>Adding a new launcher</h2>

<p>
Different environments provide different ways to add launchers.
</p>

<dl>
 <dt>GNOME</dt>
 <dd>
 <p>Choose <b>Zero Install -> Add New Program</b> from the <b>Applications</b> menu.
Type in the URI, or drag it from the web-browser into the dialog box. This video above demonstrates this.</p>
<p style='text-align: center'>
  <img width="335" height="259" src="tutorial/add-with-gnome.png" alt='Adding with GNOME'/>
</p>
<p>Note that on older versions, the menu item is labelled <b>Zero2Desktop</b> and it's on the <b>System/Preferences</b> menu.</p>
<p>
<b>Ubuntu users</b>: You need to open and then close the menu editor after adding a program
before it will show up; see <a href='https://bugs.launchpad.net/ubuntu/+source/xdg-utils/+bug/191958'>Ubuntu bug #191958</a>.
</p>

 </dd>

 <dt>KDE</dt>
 <dd>
 <p>Choose <b>Add Zero Install Program</b> from the <b>Utilities</b> menu. Type in the URI, or drag it from the web-browser into the dialog box.</p>
<p style='text-align: center'>
  <img width="318" height="165" src="tutorial/add-with-kde.png" alt='Adding with KDE'/>
</p>
 </dd>

<dt>ROX</dt>
<dd><p>Drag the link from your web-browser to the AddApp program, then drag the launcher from there to wherever you want it. <a href='http://rox.sourceforge.net/desktop/AddApp'>AddApp</a>'s page has more details.</p>
<p style='text-align: center'>
  <img width="546" height="184" src="tutorial/add-with-rox.png" alt='Adding with ROX'/>
</p>
</dd>

 <dt>Shell</dt>
 <dd>
<p>
The <b>0alias</b> command can be used to create little shell scripts to start programs easily:
</p>

<pre>
$ <b>0alias rox-edit http://rox.sourceforge.net/2005/interfaces/Edit</b>
Created script '/home/talex/bin/rox-edit'.
To edit policy: rox-edit --versions
(note: some shells require you to type 'rehash' now)
</pre>

<p>
The command puts the script in the first writable directory in your $PATH.
You can now run Edit like this:
</p>

<pre>
$ <b>rox-edit</b>
</pre>

</dd>
</dl>

<h2>Confirming keys</h2>

<p>
Once 0launch has been run (either manually or by a launcher), it chooses a suitable version of the program and runs it.
If it doesn't know about this program yet then it will need to download some information about it first. If you tried the Edit
example above, you're probably looking at this dialog box now:
</p>

<p style='text-align: center'>
<img width="430" height="414" src="confirm-tal-rox.png"
     alt="Confirming Thomas Leonard's GPG key" />
</p>

<p>
So what happened?
</p>

<ol>
<li>0launch realised that it needed to download some files to run Edit, so
it switched to graphical mode (<a href='http://thread.gmane.org/gmane.comp.file-systems.zero-install.devel/1189/focus=1190'>use --console to disable this</a>).</li>
<li>It downloaded Edit's feed file and the GPG key that signed it.</li>
<li>It prompts you to confirm that you trust this key to sign feeds from <b>rox.sourceforge.net</b>.</li>
</ol>

<p>
The important thing in this box is the <i>fingerprint</i>, since it can't be faked: anyone can create a key
with the name "Thomas Leonard", but noone knows how to create another key with this fingerprint.
</p>

<p>
Ideally, you should check the fingerprint somehow (maybe the person who recommended Edit to you told you the fingerprint).
However, there's a handy hints database built into Zero Install to help you out. It's called "unreliable" because I don't
have the funding to verify people's keys, so it's just a list of keys that have been announced on the mailing list, but it's
better than nothing. Obviously, I can't accept any kind of legal liablity for its accuracy, but you could pay someone to
provide a real service if you needed that.
</p>

<ol>
<li>Once the key is confirmed, 0launch looks at the information it has downloaded about Edit.</li>
<li>Edit requires the ROX-Lib library, so it fetches ROX-Lib's feed too. This is
also signed with my key and comes from the ROX domain, so you don't need to confirm again.</li>
</ol>

<h2>Downloading and running</h2>

<p>
After downloading information about Edit and its dependencies, 0launch
selects suitable versions of them and prompts you to confirm:
</p>

<p style='text-align: center'>
<img width="500" height="233" src="edit-injector.png"
     alt="Running Edit with the injector" />
</p>

<p>
The main part of the window contains a list of all the components needed to run Edit.
At the top is Edit itself, and shown below is ROX-Lib, which Edit needs in order to function.
If you are happy with the selected versions, click on <b>Run</b> to download and run the
program (selecting different versions is covered in part two of this tutorial):
</p>

<p style='text-align: center'>
<img width="395" height="230" src="edit-running.png"
     alt="Edit running" />
</p>

<p>
By default, the GUI confirmation box is only shown if something must be downloaded.
If you run the command again once <b>Edit</b> has been cached, Edit will run immediately. To get back to
the dialog box, use the <b>--gui</b> option:
</p>

<pre>
$ <b>0launch --gui http://rox.sourceforge.net/2005/interfaces/Edit</b>
</pre>

<h2>List of Zero Install software</h2>

<p>
See the <a href='injector-feeds.html'>packages</a> page for a list of software currently available
through Zero Install. When you're ready, you can continue with the tutorial using the link below:
</p>

<quicklinks>
  <link href='tutorial-downloads.html' img='tango/go-next.png'>Continue to part two</link>
</quicklinks>
 
</html>
