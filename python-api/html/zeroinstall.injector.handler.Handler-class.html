<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>zeroinstall.injector.handler.Handler</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="zeroinstall-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://0install.net">Project Homepage</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="zeroinstall-module.html">Package&nbsp;zeroinstall</a> ::
        <a href="zeroinstall.injector-module.html">Package&nbsp;injector</a> ::
        <a href="zeroinstall.injector.handler-module.html">Module&nbsp;handler</a> ::
        Class&nbsp;Handler
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="zeroinstall.injector.handler.Handler-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Handler</h1><p class="nomargin-top"><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">Handler</strong>
</pre>

<hr />
<p>This implementation of the handler interface uses the GLib 
  mainloop.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="zeroinstall.injector.handler.Handler-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">mainloop</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">dry_run</span>=<span class="summary-sig-default">False</span>)</span><br />
      x.__init__(...) initializes x; see x.__class__.__doc__ for signature</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="zeroinstall.injector.handler.Handler-class.html#monitor_download" class="summary-sig-name">monitor_download</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dl</span>)</span><br />
      Called when a new <a href="zeroinstall.injector.download-module.html"
      class="link">download</a> is started.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.monitor_download">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="zeroinstall.injector.handler.Handler-class.html#impl_added_to_store" class="summary-sig-name">impl_added_to_store</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">impl</span>)</span><br />
      Called by the Fetcher when adding an implementation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.impl_added_to_store">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="downloads_changed"></a><span class="summary-sig-name">downloads_changed</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.downloads_changed">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="wait_for_blocker"></a><span class="summary-sig-name">wait_for_blocker</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">blocker</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.wait_for_blocker">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="zeroinstall.injector.download.Download-class.html" 
      class="link">download.Download</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="zeroinstall.injector.handler.Handler-class.html#get_download" class="summary-sig-name">get_download</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">url</span>,
        <span class="summary-sig-arg">force</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">hint</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return the Download object currently downloading 'url'.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.get_download">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="zeroinstall.injector.handler.Handler-class.html#confirm_trust_keys" class="summary-sig-name">confirm_trust_keys</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">interface</span>,
        <span class="summary-sig-arg">sigs</span>,
        <span class="summary-sig-arg">iface_xml</span>)</span><br />
      We don't trust any of the signatures yet.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.confirm_trust_keys">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="zeroinstall.injector.handler.Handler-class.html#report_error" class="summary-sig-name">report_error</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">exception</span>,
        <span class="summary-sig-arg">tb</span>=<span class="summary-sig-default">None</span>)</span><br />
      Report an exception to the user.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.report_error">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">{URL: <a href="zeroinstall.injector.download.Download-class.html" 
      class="link">download.Download</a>}</span>
    </td><td class="summary">
        <a name="monitored_downloads"></a><span class="summary-name">monitored_downloads</span><br />
      dict of downloads in progress
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
        <a name="n_completed_downloads"></a><span class="summary-name">n_completed_downloads</span><br />
      number of downloads which have finished for GUIs, etc (can be reset 
      as desired).
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
        <a href="zeroinstall.injector.handler.Handler-class.html#total_bytes_downloaded" class="summary-name">total_bytes_downloaded</a><br />
      informational counter for GUIs, etc (can be reset as desired).
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Properties</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">mainloop</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">dry_run</span>=<span class="sig-default">False</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>x.__init__(...) initializes x; see x.__class__.__doc__ for 
  signature</p>
  <dl class="fields">
    <dt>Overrides:
        object.__init__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="monitor_download"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">monitor_download</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dl</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.monitor_download">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called when a new <a href="zeroinstall.injector.download-module.html" 
  class="link">download</a> is started. This is mainly used by the GUI to 
  display the progress bar.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="impl_added_to_store"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">impl_added_to_store</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">impl</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.impl_added_to_store">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called by the Fetcher when adding an implementation. The GUI uses this
  to update its display.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>impl</code></strong> (<a href="zeroinstall.injector.model.Implementation-class.html" 
          class="link">model.Implementation</a>) - the implementation which has been added</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="get_download"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_download</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">url</span>,
        <span class="sig-arg">force</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">hint</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.get_download">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the Download object currently downloading 'url'. If no download
  for this URL has been started, start one now (and start monitoring it). 
  If the download failed and force is False, return it anyway. If force is 
  True, abort any current or failed download and start a new one.</p>
  <dl class="fields">
    <dt>Returns: <a href="zeroinstall.injector.download.Download-class.html" 
      class="link">download.Download</a></dt>
  </dl>
</td></tr></table>
</div>
<a name="confirm_trust_keys"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">confirm_trust_keys</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">interface</span>,
        <span class="sig-arg">sigs</span>,
        <span class="sig-arg">iface_xml</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.confirm_trust_keys">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>We don't trust any of the signatures yet. Ask the user. When done 
  update the <a href="zeroinstall.injector.trust-module.html" 
  class="link">trust</a> database, and then call <a 
  href="zeroinstall.injector.trust.TrustDB-class.html#notify" 
  class="link">trust.TrustDB.notify</a>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>interface</code></strong> - the interface being updated</li>
        <li><strong class="pname"><code>sigs</code></strong> - a list of signatures (from <a 
          href="zeroinstall.injector.gpg-module.html#check_stream" 
          class="link">gpg.check_stream</a>)</li>
        <li><strong class="pname"><code>iface_xml</code></strong> - the downloaded data (not yet trusted)</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>a blocker, if confirmation will happen asynchronously, or None</dd>
  </dl>
</td></tr></table>
</div>
<a name="report_error"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">report_error</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">exception</span>,
        <span class="sig-arg">tb</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="zeroinstall.injector.handler-pysrc.html#Handler.report_error">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Report an exception to the user.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>exception</code></strong> (<a href="zeroinstall.SafeException-class.html" 
          class="link">SafeException</a>) - the exception to report</li>
        <li><strong class="pname"><code>tb</code></strong> - optional traceback</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Since:</strong>
        0.25
      </p>
</div></td></tr></table>
</div>
<br />
<!-- ==================== INSTANCE VARIABLE DETAILS ==================== -->
<a name="section-InstanceVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Variable Details</span></td>
</tr>
</table>
<a name="total_bytes_downloaded"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">total_bytes_downloaded</h3>
  informational counter for GUIs, etc (can be reset as desired). Updated 
  when download finishes.
  <dl class="fields">
    <dt>Type:</dt>
      <dd>int</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="zeroinstall-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://0install.net">Project Homepage</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Feb 29 08:12:20 2008
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
